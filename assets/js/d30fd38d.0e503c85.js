"use strict";(self.webpackChunkvrc_school=self.webpackChunkvrc_school||[]).push([[2830],{6440:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>r,toc:()=>c});var i=s(5893),t=s(1151);const a={title:"Avatar Rigs",sidebar_position:9,slug:"Avatar-Rigs",last_edited:new Date("2024-03-31T08:54:00.000Z"),contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},o="Avatar Rigs {#ffa86170db9f4850a8781e238c7d8fc3}",r={id:"Unity-Animations/Avatar-Rigs",title:"Avatar Rigs",description:"Contributors: Jellejurre, JustSleightly",source:"@site/docs/Unity-Animations/Avatar-Rigs.md",sourceDirName:"Unity-Animations",slug:"/Unity-Animations/Avatar-Rigs",permalink:"/docs/Unity-Animations/Avatar-Rigs",draft:!1,unlisted:!1,editUrl:"https://github.com/VRLabs/VRCSchool/tree/main/docs/Unity-Animations/Avatar-Rigs.md",tags:[],version:"current",sidebarPosition:9,frontMatter:{title:"Avatar Rigs",sidebar_position:9,slug:"Avatar-Rigs",last_edited:"2024-03-31T08:54:00.000Z",contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},sidebar:"sideBar",previous:{title:"Blend Trees",permalink:"/docs/Unity-Animations/BlendTrees"},next:{title:"Introduction - VRChat Avatars 3.0",permalink:"/docs/Avatars/Intro-VRChat-Avatars"}},d={},c=[{value:"Humanoid Avatar",id:"a92616a516d147b88436eef439da4e82",level:2},{value:"Configure Screen",id:"303eacda152948b6942075513df2554c",level:2},{value:"Mapping",id:"mapping",level:3},{value:"Muscles &amp; Settings",id:"muscles--settings",level:3},{value:"Generic Rig",id:"28d7a45653b0469384603cc487900755",level:2},{value:"Legacy Rig",id:"7005c951d5a145998482ddd9ad0f213b",level:2},{value:"None",id:"2cfd3cedc9994f6b9a5593fd7c5f5ad7",level:2}];function l(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.a)(),...e.components},{GreyItalicText:a,RightAlignedText:o}=n;return a||p("GreyItalicText",!0),o||p("RightAlignedText",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(n.p,{children:["Contributors: ",(0,i.jsx)(n.a,{href:"https://jellejurre.dev/",children:"Jellejurre"}),", ",(0,i.jsx)(n.a,{href:"https://vrc.sleightly.dev/",children:"JustSleightly"})]}),"\n",(0,i.jsx)(n.h1,{id:"ffa86170db9f4850a8781e238c7d8fc3",children:"Avatar Rigs"}),"\n",(0,i.jsxs)(n.p,{children:["In Unity, Avatar Rigs provide a standardized way to interact with 3D models (",(0,i.jsx)(n.code,{children:"FBX"})," files). They are used to create Animator Layer Masks and, in the case of Humanoid Rigs, ensure animations are generic and compatible across multiple avatars."]}),"\n",(0,i.jsxs)("div",{class:"notion-row",children:[(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsx)(n.p,{children:"To configure Avatar Rig settings, follow these steps:"}),(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Open Model Inspector:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Click on a 3D model in your Project view."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Access Avatar Rig Tab:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["In the Model Inspector, click the ",(0,i.jsx)(n.code,{children:"Rig"})," button. This opens the Avatar Rig tab."]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Select Avatar Rig Type:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"In the Avatar Rig tab, find a dropdown for the Avatar Rig Type."}),"\n"]}),"\n"]}),"\n"]})]}),(0,i.jsx)("div",{className:"notion-spacer"}),(0,i.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.49999999999999994)"},children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"The default window of the Model Inspector.",src:s(9694).Z+"",width:"2033",height:"1228"}),(0,i.jsx)("br",{}),(0,i.jsx)(a,{children:"The default window of the Model Inspector."})]})}),(0,i.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,i.jsx)(n.p,{children:"There are four types of Avatar:"}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Humanoid"}),": The most popular Avatar, as VRChat\u2019s default animations rely on this Avatar. It has a list of Humanoid bones, which can be mapped to Transforms (GameObjects). Once these bones are mapped, you can use Humanoid Muscles in animations to move the avatar in predictable ways. This allows an animation which animates Humanoid Muscles to work on any (VRChat) avatar as long as they have their (Unity) Avatar set up correctly."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Generic"}),": Like the Humanoid Avatar, but without all the humanoid bones/muscles. This avatar is only useful for creating Animator Layer Masks."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Legacy"}),": Doesn\u2019t create an Avatar Rig at all, but it does import bones, animation and blendshapes, and also allows for changing the animation import method."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"None"}),": Doesn\u2019t create an Avatar Rig, doesn\u2019t include any bones, animations or blendshapes."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"a92616a516d147b88436eef439da4e82",children:"Humanoid Avatar"}),"\n",(0,i.jsxs)("div",{class:"notion-row",children:[(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Avatar Definition"})," dropdown has two options:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Copy From Other Avatar, shows a field in which one can drag another Avatar to copy the bone definition from."}),"\n",(0,i.jsxs)(n.li,{children:["Create From This Model, shows a ",(0,i.jsx)(n.code,{children:"x"})," or a ",(0,i.jsx)(n.code,{children:"\u2713"})," based on whether the import has succeeded, and a ",(0,i.jsx)(n.code,{children:"Configure"})," button which brings you to the Humanoid Rig Configure Screen."]}),"\n"]}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Skin Weights"})," dropdown has two options:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Standard (4 bones), which limits each vertex to be influenced by a maximum of 4 bone groups."}),"\n",(0,i.jsx)(n.li,{children:"Custom, which allows for editing of the maximum amount of bones per vertex, and the minimum bone weight to be imported."}),"\n"]})]}),(0,i.jsx)("div",{className:"notion-spacer"}),(0,i.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"The default Humanoid Rig Inspector.",src:s(6932).Z+"",width:"513",height:"229"}),(0,i.jsx)("br",{}),(0,i.jsx)(a,{children:"The default Humanoid Rig Inspector."})]})}),(0,i.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Optimize Game Objects"})," option (and the ",(0,i.jsx)(n.code,{children:"Extra Transforms To Expose"})," menu) decide whether or not the bones will be exposed as GameObjects. If this option is enabled, all bones not enabled in Extra Transforms To Expose will be removed from any new instances of the FBX, and instead use internal representations will be used to increase performance."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"303eacda152948b6942075513df2554c",children:"Configure Screen"}),"\n",(0,i.jsxs)("div",{class:"notion-row",children:[(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsxs)(n.p,{children:["When pressing the ",(0,i.jsx)(n.code,{children:"Configure"})," button on a humanoid rig, the current scene will close (and reopen once you\u2019re done) and the Humanoid Rig Configure Screen setup will be shown. In this screen you can edit how the 3d Model\u2019s bones are mapped to Humanoid Bones."]}),(0,i.jsx)(n.p,{children:"At the top there are two sections: Mapping and Muscles & Settings."}),(0,i.jsx)(n.h3,{id:"mapping",children:"Mapping"}),(0,i.jsxs)(n.p,{children:["The ",(0,i.jsx)(n.code,{children:"Mapping"})," screen allows you to select which GameObject maps to which Humanoid Bone. There are four subheadings: Body, Head, Left Hand, Right Hand, each having their own set of bones to map."]}),(0,i.jsx)(n.p,{children:"At the bottom there are two dropdowns:"}),(0,i.jsx)(n.p,{children:"Mapping:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Clear"}),": Clears the whole avatar\u2019s bone mapping"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Automap"}),": Automatically assign the whole avatar\u2019s bone mapping based on name and location"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Save"}),": Save the current bone mapping to a file"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Load"}),": Load the current bone mapping to a file"]}),"\n"]}),(0,i.jsx)(n.p,{children:"Pose:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Reset"}),": Reset the pose of the Avatar to the imported one"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Sample Bind-Pose"}),": Try to set the pose of the avatar to the default position of the bones (the bind pose). This is usually the same as Reset."]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.strong,{children:"Enforce T Pose"}),": Enforce a T Pose. The Avatar is required to be in a T pose when pressing ",(0,i.jsx)(n.code,{children:"Apply"})," or ",(0,i.jsx)(n.code,{children:"Done"})," to get a Humanoid Rig which works nicely with humanoid animations."]}),"\n"]})]}),(0,i.jsx)("div",{className:"notion-spacer"}),(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(2531).Z+"",width:"2538",height:"1207"})}),(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"The Humanoid Rig Configure Mapping Screen. Note that the screen might not fit on your whole screen and might require scrolling, hence the two images.",src:s(60).Z+"",width:"2522",height:"278"}),(0,i.jsx)("br",{}),(0,i.jsx)(a,{children:"The Humanoid Rig Configure Mapping Screen. Note that the screen might not fit on your whole screen and might require scrolling, hence the two images."})]})]}),(0,i.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,i.jsxs)("div",{class:"notion-row",children:[(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsx)(n.h3,{id:"muscles--settings",children:"Muscles & Settings"}),(0,i.jsx)(n.p,{children:"In this window, there are three sections:"}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["The first section is for previewing full Muscle Group movements by dragging the sliders. The ",(0,i.jsx)(n.code,{children:"Reset All"})," button resets all the sliders to their neutral position."]}),"\n",(0,i.jsxs)(n.li,{children:["The second section is for previewing and editing the range of individual muscles. The range represents the angle that that bone can take when the muscle moves. So say a muscle has range ",(0,i.jsx)(n.code,{children:"-180"})," - ",(0,i.jsx)(n.code,{children:"180"})," and that muscle has value ",(0,i.jsx)(n.code,{children:"0.75"}),", the bone would be rotated ",(0,i.jsx)(n.code,{children:"90"})," degrees to the right."]}),"\n",(0,i.jsxs)(n.li,{children:["The third section is for overall settings.","\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Twist settings influence how much the twist muscle influences the neighboring bones."}),"\n",(0,i.jsx)(n.li,{children:"Stretch settings influence how much the bones can stretch when the avatar is retargeted to another model."}),"\n",(0,i.jsx)(n.li,{children:"Feet spacing is the default distance between the feet."}),"\n",(0,i.jsx)(n.li,{children:"Translation DoF allows the Humanoid Rig to also move bones, instead of just rotating."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Muscles"})," \u2192 ",(0,i.jsx)(n.code,{children:"Reset"}),": Resets the muscle ranges from the second tab to the defaults"]}),"\n"]}),(0,i.jsxs)(n.p,{children:["Then the ",(0,i.jsx)(n.code,{children:"Revert"}),", ",(0,i.jsx)(n.code,{children:"Apply"})," and ",(0,i.jsx)(n.code,{children:"Done"})," buttons:"]}),(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Revert the changes and leave the screen"}),"\n",(0,i.jsx)(n.li,{children:"Apply the change and stay in this screen"}),"\n",(0,i.jsx)(n.li,{children:"Apply the changes and leave the screen"}),"\n"]})]}),(0,i.jsx)("div",{className:"notion-spacer"}),(0,i.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.img,{alt:"The Humanoid Rig Configure Muscles &amp; Settings Screen.",src:s(8809).Z+"",width:"2538",height:"1281"}),(0,i.jsx)("br",{}),(0,i.jsx)(a,{children:"The Humanoid Rig Configure Muscles & Settings Screen."})]})}),(0,i.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"28d7a45653b0469384603cc487900755",children:"Generic Rig"}),"\n",(0,i.jsxs)("div",{class:"notion-row",children:[(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsxs)(n.p,{children:["The  ",(0,i.jsx)(n.code,{children:"Avatar Definition"}),",  ",(0,i.jsx)(n.code,{children:"Skin Weights"})," and ",(0,i.jsx)(n.code,{children:"Optimize Game Objects"})," dropdowns all do the same as with humanoid."]}),(0,i.jsx)(n.p,{children:"The root node allows you to set a root node for Animations to play from."})]}),(0,i.jsx)("div",{className:"notion-spacer"}),(0,i.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:(0,i.jsx)(n.p,{children:(0,i.jsx)(n.img,{src:s(5376).Z+"",width:"2158",height:"1228"})})}),(0,i.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"7005c951d5a145998482ddd9ad0f213b",children:"Legacy Rig"}),"\n",(0,i.jsxs)(n.p,{children:["The Legacy Rig has the same ",(0,i.jsx)(n.code,{children:"Optimize Game Objects"})," toggle as the other Rigs, but it also has a dropdown where you can choose how to import animations, however, this is only for the old Legacy Unity Animation system, which is deprecated and should not be used anymore."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"2cfd3cedc9994f6b9a5593fd7c5f5ad7",children:"None"}),"\n",(0,i.jsx)(n.p,{children:"No Rig means no skinning, no bones, no imported animations, and no blendshapes. This rig type is probably the most performant one for non-animated meshes."}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(o,{children:"Last Updated: 31 March 2024 08:54:00"})]})}function h(e={}){const{wrapper:n}={...(0,t.a)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}function p(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},2531:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Avatar-Rigs.4c15e0c1-c01a-4385-bbd5-17a1eaf7fd6f-6f2a360ed863c3cb6b2f1d6fe19c937e.png"},60:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Avatar-Rigs.4dec9976-73bb-474b-8b80-0722db400e3c-ddff8799c02d9ada9d114e1d10de7cea.png"},9694:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Avatar-Rigs.5989f8bd-0504-408d-8620-6e3d059e806e-7c9dd6df05280b21979bb52dd0ae5ee9.png"},5376:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Avatar-Rigs.938bded3-4491-4257-b130-2b77a735172f-187e0786c0779262a213c97169e83aac.png"},6932:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Avatar-Rigs.f3de98ff-1341-4163-95a3-9a80465dbc3c-42a5f84afcfea4dc3285344246f6003c.png"},8809:(e,n,s)=>{s.d(n,{Z:()=>i});const i=s.p+"assets/images/Avatar-Rigs.f77ad301-4990-40c1-8be1-eb97923d3036-2bd8788ccd94cb9a6d331c1a8c244fc0.png"},1151:(e,n,s)=>{s.d(n,{Z:()=>r,a:()=>o});var i=s(7294);const t={},a=i.createContext(t);function o(e){const n=i.useContext(a);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(a.Provider,{value:n},e.children)}}}]);