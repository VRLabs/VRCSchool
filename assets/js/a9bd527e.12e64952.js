"use strict";(self.webpackChunkvrc_school=self.webpackChunkvrc_school||[]).push([[7448],{2330:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>d,frontMatter:()=>a,metadata:()=>o,toc:()=>h});var s=n(5893),i=n(1151);const a={title:"Contact Receivers/Senders",sidebar_position:12,slug:"Contacts",last_edited:new Date("2024-03-31T08:54:00.000Z"),contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},r="Contact Receivers/Senders {#fdf799caee1341c89333bf425ed89408}",o={id:"Avatars/Contacts",title:"Contact Receivers/Senders",description:"Contributors: Jellejurre, JustSleightly",source:"@site/docs/Avatars/Contacts.md",sourceDirName:"Avatars",slug:"/Avatars/Contacts",permalink:"/docs/Avatars/Contacts",draft:!1,unlisted:!1,editUrl:"https://github.com/VRLabs/VRCSchool/tree/main/docs/Avatars/Contacts.md",tags:[],version:"current",sidebarPosition:12,frontMatter:{title:"Contact Receivers/Senders",sidebar_position:12,slug:"Contacts",last_edited:"2024-03-31T08:54:00.000Z",contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},sidebar:"sideBar",previous:{title:"Phys Bones",permalink:"/docs/Avatars/PhysBones"},next:{title:"Axis Puppets (2-Axis/4-Axis)",permalink:"/docs/Avatars/Axis-Puppets"}},c={},h=[{value:"Contact Senders",id:"bc128130016047ae84ccb47556553de6",level:2},{value:"Contact Receivers",id:"98f210ee925e4eabaf7a37d7d7535822",level:2},{value:"Miscellaneous",id:"204b815eb3ba49c7af6c32aef243e484",level:2}];function l(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.a)(),...e.components},{GreyItalicText:a,RightAlignedText:r}=t;return a||p("GreyItalicText",!0),r||p("RightAlignedText",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["Contributors: ",(0,s.jsx)(t.a,{href:"https://jellejurre.dev/",children:"Jellejurre"}),", ",(0,s.jsx)(t.a,{href:"https://vrc.sleightly.dev/",children:"JustSleightly"})]}),"\n",(0,s.jsx)(t.h1,{id:"fdf799caee1341c89333bf425ed89408",children:"Contact Receivers/Senders"}),"\n",(0,s.jsxs)("div",{class:"notion-row",children:[(0,s.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,s.jsx)(t.p,{children:"Contact Receivers and Contact Senders are VRChat components added in the Avatar Dynamics update that allows Contact Receivers to set parameters based on the presence of a Contact Sender. This is some of the only available technology that allows for interaction across avatars, and the setting of parameters. They are, together with Phys Bones, the main point of user interaction for most complex avatar systems."}),(0,s.jsxs)(t.p,{children:["In essence: when a Contact Sender is inside of a Contact Receiver, and they have the same tag set (Ex: ",(0,s.jsx)(t.code,{children:"Finger"}),"), then the Contact Receiver will set a parameter, which you can use to make a toggle. This is how headpat and nose boop systems work."]}),(0,s.jsx)(t.p,{children:"To see them in the Scene view, you have to:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Have Gizmos enabled (the setting for this is in the top right of the scene view)"}),"\n",(0,s.jsx)(t.li,{children:"Have either the contact or one of its parents selected"}),"\n",(0,s.jsx)(t.li,{children:"Have the GameObject the Contact is on enabled"}),"\n"]})]}),(0,s.jsx)("div",{className:"notion-spacer"}),(0,s.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.img,{alt:"A Contact Sender (left) and a Contact Receiver (right) in the scene view. Note that Gizmos is enabled, and they are selected in the hierarchy, otherwise they don\u2019t show up.",src:n(7152).Z+"",width:"1337",height:"785"}),(0,s.jsx)("br",{}),(0,s.jsx)(a,{children:"A Contact Sender (left) and a Contact Receiver (right) in the scene view. Note that Gizmos is enabled, and they are selected in the hierarchy, otherwise they don\u2019t show up."})]})}),(0,s.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"bc128130016047ae84ccb47556553de6",children:"Contact Senders"}),"\n",(0,s.jsxs)("div",{class:"notion-row",children:[(0,s.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5625)"},children:[(0,s.jsx)(t.p,{children:"Contact Senders are quite a simple component."}),(0,s.jsx)(t.p,{children:"When they are enabled and inside of a Contact Receiver, the Receiver sets a parameter on the avatar\u2019s Playable Layers (for example the FX Layer), however, most of the hard to grasp settings are on the Receiver. The Contact sender has the following settings:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Root Transform"}),": The GameObject the component originates from. If this is the hip bone for example, the Contact Sender will follow the hip bone. If left empty, the GameObject the Contact Sender is on is used"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Shape"}),": Either a ",(0,s.jsx)(t.code,{children:"Sphere"})," or ",(0,s.jsx)(t.code,{children:"Capsule"}),". The capsule is two half spheres, combined by a cylinder","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Radius"}),": On ",(0,s.jsx)(t.code,{children:"Sphere"}),": the radius of the sphere. On ",(0,s.jsx)(t.code,{children:"Capsule"}),": the radius of the two half spheres and the cylinder"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Height"}),": On ",(0,s.jsx)(t.code,{children:"Capsule"}),": the height of the cylinder"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Position"}),": The position offset from the Root Transform in local space"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Rotation"}),": The rotation offset from the Root Transform in local space"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Collision Tags"}),": The list of collision tags. A Contact Sender will interact with a Contact Receiver if any of the tags on the Contact Receiver match any of the tags on the Contact Sender","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["So say you have a Contact Sender with tag list ",(0,s.jsx)(t.code,{children:"Test1"}),", ",(0,s.jsx)(t.code,{children:"Test2"})," and you have a Contact Receiver with tag list ",(0,s.jsx)(t.code,{children:"Test1"}),", ",(0,s.jsx)(t.code,{children:"Test3"}),", they will interact since they both have ",(0,s.jsx)(t.code,{children:"Test1"})," in their tag list"]}),"\n"]}),"\n"]}),"\n"]})]}),(0,s.jsx)("div",{className:"notion-spacer"}),(0,s.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.43750000000000006)"},children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(8091).Z+"",width:"764",height:"306"})})}),(0,s.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,s.jsx)(t.p,{children:"VRChat automatically adds Contact Senders at all the colliders in the Colliders section of the Avatar Descriptor, with the tags that you can see in the Collision Tag dropdown."}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"98f210ee925e4eabaf7a37d7d7535822",children:"Contact Receivers"}),"\n",(0,s.jsxs)("div",{class:"notion-row",children:[(0,s.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.625)"},children:[(0,s.jsx)(t.p,{children:"Contact Receivers are where the magic happens."}),(0,s.jsx)(t.p,{children:"When they are enabled and have a Contact Sender in their bounds, they will set a parameter of the avatar\u2019s Playable Layers (for example the FX Layer). They have the same settings as the sender, with some additional settings:"}),(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Allow Self"}),": Allow Contact Senders of the person wearing the avatar to trigger the Contact Receiver"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Allow Others"}),": Allow Contact Senders of people not wearing the avatar to trigger the Contact Receiver"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Local Only"}),": Remove the Contact Receiver on the machines of everyone who isn\u2019t the person wearing the avatar.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"This is often used in combination with putting the parameter on the VRC Expression Parameter list to make the interaction happen locally and sync the result, being more consistent but costing parameter memory."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Receiver Types"}),":","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Constant"}),": Whenever a Contact Sender with a matching tag is inside the Contact Receiver\u2019s area, the parameter will be constantly kept to 1.0, and when there is no Contact Sender with a matching tag inside the Contact Receiver, the parameter will be constantly kept to 0.0."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"On Enter"}),": Whenever a Contact Sender with a matching tag enters the Contact Receiver\u2019s area with at least a velocity of ",(0,s.jsx)(t.code,{children:"Min Velocity"}),", the parameter will be set to 1.0 for one frame, before being set to 0.0 again."]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Proximity"}),": Whenever a Contact Sender with a matching tag is inside the Contact Receiver\u2019s area, the parameter will be set based on the minimum distance to the center of the Contact Receiver (or center line if the Shape is ",(0,s.jsx)(t.code,{children:"Capsule"}),"). So if the closest point of the Contact Sender is in the exact center of the Contact Receiver, its parameter value will be set to 1.0. If the closest point is halfway between the center and the outside, its parameter value will be set to 0.5, etc.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Note: These parameter values are subject to ",(0,s.jsx)(t.a,{href:"/docs/Other/Parameter-Mismatching",children:"Expression Parameter Mismatching"}),". This means that you can use other parameter types and get the following results:","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"Float"})," On: 1.0. off: 0.0"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"Int"})," On: 1. Off: 0"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.code,{children:"Bool"})," On: True. Off: False"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:"Parameter"}),": The name of the parameter to set. For example, if you have a parameter on your FX Layer named ",(0,s.jsx)(t.code,{children:"Boop"}),", then this field should contain the name of this parameter: ",(0,s.jsx)(t.code,{children:"Boop"})]}),"\n"]})]}),(0,s.jsx)("div",{className:"notion-spacer"}),(0,s.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.37500000000000006)"},children:(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{src:n(7339).Z+"",width:"757",height:"552"})})}),(0,s.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"204b815eb3ba49c7af6c32aef243e484",children:"Miscellaneous"}),"\n",(0,s.jsx)(t.p,{children:"Some quirks of Contact Senders and Receivers:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Changing Contact Values with animations at runtime is not possible"}),"\n",(0,s.jsx)(t.li,{children:"Having two or more Contact Receivers with the same parameter chooses the last one to be enabled as the one that controls the parameter"}),"\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.a,{href:"https://github.com/BlackStartx/VRC-Gesture-Manager",children:"Gesture Manager"})," has a utility where you can click contacts in the game view to enable them"]}),"\n"]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(r,{children:"Last Updated: 31 March 2024 08:54:00"})]})}function d(e={}){const{wrapper:t}={...(0,i.a)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}function p(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},8091:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/103333965-fd2bbef5781a223926def73700893940.png"},7339:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/1318453253-aea95a849cad229ad66f44125df0ac4c.png"},7152:(e,t,n)=>{n.d(t,{Z:()=>s});const s=n.p+"assets/images/1349752785-83969642e3f7ef73c98d956802fd8547.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>r});var s=n(7294);const i={},a=s.createContext(i);function r(e){const t=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:r(e.components),s.createElement(a.Provider,{value:t},e.children)}}}]);