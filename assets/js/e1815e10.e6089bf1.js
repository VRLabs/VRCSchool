"use strict";(self.webpackChunkvrc_school=self.webpackChunkvrc_school||[]).push([[6244],{5751:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>a,toc:()=>l});var n=i(5893),s=i(1151);const o={title:"Animator Transitions",sidebar_position:6,slug:"Animator-Transitions",last_edited:new Date("2024-03-31T08:54:00.000Z"),contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},r="Animator Transitions {#9906fdc43d324e208c1536e1cf9a106c}",a={id:"Unity-Animations/Animator-Transitions",title:"Animator Transitions",description:"Contributors: Jellejurre, JustSleightly",source:"@site/docs/Unity-Animations/Animator-Transitions.md",sourceDirName:"Unity-Animations",slug:"/Unity-Animations/Animator-Transitions",permalink:"/docs/Unity-Animations/Animator-Transitions",draft:!1,unlisted:!1,editUrl:"https://github.com/VRLabs/VRCSchool/tree/main/docs/Unity-Animations/Animator-Transitions.md",tags:[],version:"current",sidebarPosition:6,frontMatter:{title:"Animator Transitions",sidebar_position:6,slug:"Animator-Transitions",last_edited:"2024-03-31T08:54:00.000Z",contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},sidebar:"sideBar",previous:{title:"Animator States",permalink:"/docs/Unity-Animations/Animator-States"},next:{title:"Write Defaults",permalink:"/docs/Unity-Animations/Write-Defaults"}},d={},l=[{value:"The Transitions List",id:"915140e0e1b8451d8524dcddd3c9b13d",level:2},{value:"Condition List",id:"bb46c7cef0ca4d6aa176fc699e61a7a3",level:2},{value:"Any State",id:"bb378c1ca4174620965e34c7bb8f5c1d",level:2},{value:"Exit Time",id:"d4a93dddc29c46e696854c21ca9d2c47",level:2},{value:"Transition Duration",id:"9e4e0513b4bd4b8a991a8178b8655704",level:2},{value:"Advanced Details",id:"6e7827288c394017ac6296ded42d93f1",level:2},{value:"Transition Offset",id:"9ec91f51f6b842fab3e575462b8967bf",level:3},{value:"Interruptions",id:"c8b72e6a74b74711a67161dff3521b1f",level:3},{value:"Interruption Source",id:"interruption-source",level:4},{value:"The Visual Transition Editor",id:"e32f471f540f4d0f8e219cb4046748c9",level:3}];function c(t){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.a)(),...t.components},{GreyItalicText:o,RightAlignedText:r}=e;return o||x("GreyItalicText",!0),r||x("RightAlignedText",!0),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(e.p,{children:["Contributors: ",(0,n.jsx)(e.a,{href:"https://jellejurre.dev/",children:"Jellejurre"}),", ",(0,n.jsx)(e.a,{href:"https://vrc.sleightly.dev/",children:"JustSleightly"})]}),"\n",(0,n.jsx)(e.h1,{id:"9906fdc43d324e208c1536e1cf9a106c",children:"Animator Transitions"}),"\n",(0,n.jsxs)("div",{class:"notion-row",children:[(0,n.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.4375)"},children:[(0,n.jsx)(e.p,{children:"An Animator Transition connects two Animator States and is triggered when its conditions (if any) are met, and its exit time has passed. Access its settings by opening the Settings dropdown."}),(0,n.jsx)(e.p,{children:'To create a new Animator Transition, right-click the source Animator State, choose "Make Transition," and click the target Animator State.'}),(0,n.jsx)(e.p,{children:"Multiple transitions can connect the same two states, indicated by three arrows on the line instead of one."})]}),(0,n.jsx)("div",{className:"notion-spacer"}),(0,n.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5625)"},children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{alt:"A default Animator Transition, going from New State to New State 0.",src:i(4380).Z+"",width:"1647",height:"775"}),(0,n.jsx)("br",{}),(0,n.jsx)(o,{children:"A default Animator Transition, going from New State to New State 0."})]})}),(0,n.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:"915140e0e1b8451d8524dcddd3c9b13d",children:"The Transitions List"}),"\n",(0,n.jsxs)("div",{class:"notion-row",children:[(0,n.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.4375)"},children:[(0,n.jsxs)(e.p,{children:["The transition list, labeled ",(0,n.jsx)(e.code,{children:"Transitions"})," at the top of the Animator Transition Inspector, contains Animator Transitions."]}),(0,n.jsxs)(e.p,{children:["If multiple transitions exist between two states (indicated by three arrows), they can be selected and reordered by clicking and dragging. Details on transition execution order are available on the ",(0,n.jsx)(e.a,{href:"/docs/Unity-Animations/Animator-States",children:"Animator States"}),"  page."]}),(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Mute"})," field disables a specific transition, while the ",(0,n.jsx)(e.code,{children:"Solo"})," field disables all other transitions. These features are not commonly used."]}),(0,n.jsx)(e.p,{children:"You can rename an Animator Transition using the text field below the Transitions List."})]}),(0,n.jsx)("div",{className:"notion-spacer"}),(0,n.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5625)"},children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{alt:"Two Animator States, connected by two Animator Transitions. The top one is selected,, which is shown by the lighter gray color.",src:i(3514).Z+"",width:"1224",height:"657"}),(0,n.jsx)("br",{}),(0,n.jsx)(o,{children:"Two Animator States, connected by two Animator Transitions. The top one is selected,, which is shown by the lighter gray color."})]})}),(0,n.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:"bb46c7cef0ca4d6aa176fc699e61a7a3",children:"Condition List"}),"\n",(0,n.jsxs)("div",{class:"notion-row",children:[(0,n.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5625)"},children:[(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Condition List"})," is a list of Animator Conditions on an Animator Transition marked ",(0,n.jsx)(e.code,{children:"Conditions"}),". It contains all the conditions that must simultaneously be met to trigger the Animator Transition. To add a new Animator Condition, click the ",(0,n.jsx)(e.code,{children:"+"})," button at the bottom of the ",(0,n.jsx)(e.code,{children:"Conditions List"}),". To remove a highlighted Animator Condition, press the ",(0,n.jsx)(e.code,{children:"-"})," button."]}),(0,n.jsx)(e.p,{children:"Different Animator Conditions include:"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Float:"})," Target can be any floating-point (fraction) number."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Int:"})," Target can be any Integer (whole) number."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Bool:"})," Target can only be True or False."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Trigger:"})," Doesn't have a target; triggers when enabled, consuming and disabling the trigger."]}),"\n"]}),(0,n.jsx)(e.p,{children:"For AND logic (both conditions must be met), place two conditions on one Animator Transition."}),(0,n.jsx)(e.p,{children:"For OR logic (either condition triggers the transition), use two separate Animator Transitions, each with one Animator Condition."}),(0,n.jsx)(e.p,{children:"Example:"}),(0,n.jsxs)(e.p,{children:["Consider two conditions in the ",(0,n.jsx)(e.code,{children:"Conditions List"}),": ",(0,n.jsx)(e.code,{children:"IntExample Greater 1"})," and ",(0,n.jsx)(e.code,{children:"FloatExample Less 9.5"}),"."]}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:["If ",(0,n.jsx)(e.code,{children:"IntExample"})," is set to 1 and ",(0,n.jsx)(e.code,{children:"FloatExample"})," is set to 5, the transition won't trigger because ",(0,n.jsx)(e.code,{children:"IntExample"})," isn't Greater than 1, requiring all conditions to be met."]}),"\n",(0,n.jsxs)(e.li,{children:["If ",(0,n.jsx)(e.code,{children:"IntExample"})," is set to 2, the transition triggers since all conditions are met."]}),"\n"]})]}),(0,n.jsx)("div",{className:"notion-spacer"}),(0,n.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.4375)"},children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{alt:"An example Condition List with every possible Animator Condition type shown. Note how the TriggerExample Animator Condition is selected and would be deleted if the - button would be pressed.",src:i(7961).Z+"",width:"546",height:"299"}),(0,n.jsx)("br",{}),(0,n.jsx)(o,{children:"An example Condition List with every possible Animator Condition type shown. Note how the TriggerExample Animator Condition is selected and would be deleted if the - button would be pressed."})]})}),(0,n.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:"bb378c1ca4174620965e34c7bb8f5c1d",children:"Any State"}),"\n",(0,n.jsxs)("div",{class:"notion-row",children:[(0,n.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.code,{children:"Any State"})," transitions are special transitions created by ",(0,n.jsx)(e.code,{children:"Right Clicking"})," the blue ",(0,n.jsx)(e.code,{children:"Any State"}),", selecting ",(0,n.jsx)(e.code,{children:"Make Transition"}),", and choosing the target Animator State. These transitions differ from normal Animator Transitions as they act as if the Animator Transition originates from all Animator States, making them triggerable from any state. They also possess the unique ability to interrupt any transition (see Interruptions)."]}),(0,n.jsxs)(e.p,{children:["An additional option exclusive to ",(0,n.jsx)(e.code,{children:"Any State Transitions"})," is ",(0,n.jsx)(e.code,{children:"Can Transition To Self"}),", determining whether the target Animator State can transition to itself using this particular Animator Transition."]})]}),(0,n.jsx)("div",{className:"notion-spacer"}),(0,n.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{alt:"An example Any State Transition. Note the extra Can Transition To Self option.",src:i(610).Z+"",width:"1231",height:"697"}),(0,n.jsx)("br",{}),(0,n.jsx)(o,{children:"An example Any State Transition. Note the extra Can Transition To Self option."})]})}),(0,n.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:"d4a93dddc29c46e696854c21ca9d2c47",children:"Exit Time"}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Exit Time"})," field allows an Animator Transition to be triggered once a fraction of the source Animator State\u2019s Animation Clip has passed. To enable/disable it, check/uncheck the ",(0,n.jsx)(e.code,{children:"Has Exit Time"})," checkbox. States without a clip count for a duration of 1 second."]}),"\n",(0,n.jsx)(e.p,{children:"Example:"}),"\n",(0,n.jsxs)(e.p,{children:["For a transition from ",(0,n.jsx)(e.code,{children:"Old State"})," to ",(0,n.jsx)(e.code,{children:"New State"})," with ",(0,n.jsx)(e.code,{children:"Exit Time"})," set to 1.5, and ",(0,n.jsx)(e.code,{children:"Old State"})," having an Animation Clip of 2 seconds, the transition can be triggered only after ",(0,n.jsx)(e.code,{children:"Exit Time * Clip Length"})," = 1.5 * 2 = 3 seconds have passed."]}),"\n",(0,n.jsx)(e.admonition,{type:"caution",children:(0,n.jsx)(e.p,{children:"Single keyframe Animation Clips are considered to have a length of 1 second for Exit Time. It's recommended to create clips with 2 keyframes, each 1 frame apart, to avoid confusion."})}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:"9e4e0513b4bd4b8a991a8178b8655704",children:"Transition Duration"}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Transition Duration"})," field sets the duration of an Animator Transition, determining how both Animator States\u2019 Animation Clips blend during the transition. At the beginning, the source Animator State\u2019s Animation Clip is fully playing, and at the end, the target Animator State\u2019s Animation Clip is fully playing."]}),"\n",(0,n.jsxs)(e.p,{children:["If the ",(0,n.jsx)(e.code,{children:"Fixed Duration"})," checkbox is checked, the ",(0,n.jsx)(e.code,{children:"Transition Duration"})," represents the time in seconds (s). If unchecked, it's a fraction of the length of the source Animator State\u2019s Animation Clip (displayed as a percentage, but it's a fraction where 1 = 100%)."]}),"\n",(0,n.jsx)(e.p,{children:"Example:"}),"\n",(0,n.jsxs)(e.p,{children:["For a transition from ",(0,n.jsx)(e.code,{children:"Old State"})," to ",(0,n.jsx)(e.code,{children:"New State"})," with ",(0,n.jsx)(e.code,{children:"Transition Duration"})," set to 4 and ",(0,n.jsx)(e.code,{children:"Fixed Duration"})," enabled, 3 seconds into the transition, ",(0,n.jsx)(e.code,{children:"Old State"}),"\u2019s Animation Clip plays with 25% weight, and ",(0,n.jsx)(e.code,{children:"New State"}),"\u2019s Animation Clip plays with 75% weight."]}),"\n",(0,n.jsxs)(e.p,{children:["If ",(0,n.jsx)(e.code,{children:"Fixed Duration"})," is disabled, and ",(0,n.jsx)(e.code,{children:"Old State"})," has a 2-second Animation Clip, the transition would take ",(0,n.jsx)(e.code,{children:"Transition Duration * Clip Length"})," = 4 * 2 = 8 seconds."]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h2,{id:"6e7827288c394017ac6296ded42d93f1",children:"Advanced Details"}),"\n",(0,n.jsx)(e.h3,{id:"9ec91f51f6b842fab3e575462b8967bf",children:"Transition Offset"}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Transition Offset"})," field sets the offset of the Animation Clip in the target Animator State as a fraction. For instance, if set to 0.5, at the beginning of the Animator Transition, the Target Animator State\u2019s Animation Clip starts playing at 50% through its runtime."]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h3,{id:"c8b72e6a74b74711a67161dff3521b1f",children:"Interruptions"}),"\n",(0,n.jsx)(e.p,{children:'During an Animator Transition, if another transition that can interrupt the current one is triggered, it pauses the ongoing transition, captures the current state of the two Animation Clips, and starts the new transition. The "Source" here is a snapshot of those effects, and its length is the length of the Animation Clip in the source state.'}),"\n",(0,n.jsx)(e.h4,{id:"interruption-source",children:"Interruption Source"}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Interruption Source"})," field determines which Animator Transition can interrupt the current one, offering five options:"]}),"\n",(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"None:"})," Allows only AnyState Transitions to interrupt."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Current State:"})," Allows AnyState Transitions and transitions from the source to target Animator State to interrupt."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Next State:"})," Allows AnyState Transitions and transitions from the target to any other Animator State to interrupt."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Current State then Next State:"})," Allows AnyState Transitions, then transitions from the source to target Animator State, then transitions from the target to any other Animator State to interrupt."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Next State then Current State:"})," Allows AnyState Transitions, then transitions from the target to any other Animator State, then the transition from the source to target Animator State to interrupt."]}),"\n"]}),"\n",(0,n.jsx)(e.p,{children:"Note: The order matters; it takes the first allowed Animator Transition it finds."}),"\n",(0,n.jsxs)(e.p,{children:["The ",(0,n.jsx)(e.code,{children:"Ordered Interruption"})," field, when checked, allows only transitions higher than the selected Animator Transition in the list to interrupt it."]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(e.h3,{id:"e32f471f540f4d0f8e219cb4046748c9",children:"The Visual Transition Editor"}),"\n",(0,n.jsxs)("div",{class:"notion-row",children:[(0,n.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,n.jsxs)(e.p,{children:["The Visual Transition Editor is a visual tool that allows you to edit properties like ",(0,n.jsx)(e.code,{children:"Exit Time"}),", ",(0,n.jsx)(e.code,{children:"Transition Duration"}),", and ",(0,n.jsx)(e.code,{children:"Transition Offset"})," for Animator Transitions. It appears when either the source or target Animator State has an Animation Clip."]}),(0,n.jsx)(e.p,{children:"The editor is intuitive, and you can:"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsx)(e.li,{children:"Change the start and end of the transition by dragging the blue start and finish markers at the top of the timeline."}),"\n",(0,n.jsx)(e.li,{children:"Adjust the beginning and end time (and duration) of transitions by dragging the transition at the top of the timeline."}),"\n",(0,n.jsx)(e.li,{children:"Modify the offset of the target Animation Clip by dragging the bottom Animation Clip left to right."}),"\n"]}),(0,n.jsx)(e.p,{children:"The white line at the top is the Pivot Weight of both animations over time. This is the most stable point between the left and right foot of the avatar, where the left foot is 0 and the right foot is 1. This is affected by animating the Root Transform Position with Bake Into Pose disabled. This is practically useless, but for if you were ever wondering :)"})]}),(0,n.jsx)("div",{className:"notion-spacer"}),(0,n.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,n.jsxs)(e.p,{children:[(0,n.jsx)(e.img,{alt:"An example of the Visual Transition Editor.",src:i(78).Z+"",width:"593",height:"205"}),(0,n.jsx)("br",{}),(0,n.jsx)(o,{children:"An example of the Visual Transition Editor."})]}),(0,n.jsx)(e.p,{children:"In this Visual Transition Editor example:"}),(0,n.jsxs)(e.ul,{children:["\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Exit Time:"})," 0, as the transition starts at the beginning of the Old State."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Transition Offset:"})," 0, as the transition begins at the start of the New State."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Old State\u2019s Animation Clip:"})," Has Loop Time on, indicating it repeats after the first play."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"New State\u2019s Animation Clip:"})," Has Loop Time off, signifying it doesn't repeat after the first play."]}),"\n",(0,n.jsxs)(e.li,{children:[(0,n.jsx)(e.strong,{children:"Transition Duration:"})," Set to 1, with Fixed Duration off, implying the transition lasts the full duration of the Old State\u2019s Animation Clip."]}),"\n"]})]}),(0,n.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,n.jsx)(e.hr,{}),"\n",(0,n.jsx)(r,{children:"Last Updated: 31 March 2024 08:54:00"})]})}function h(t={}){const{wrapper:e}={...(0,s.a)(),...t.components};return e?(0,n.jsx)(e,{...t,children:(0,n.jsx)(c,{...t})}):c(t)}function x(t,e){throw new Error("Expected "+(e?"component":"object")+" `"+t+"` to be defined: you likely forgot to import, pass, or provide it.")}},610:(t,e,i)=>{i.d(e,{Z:()=>n});const n=i.p+"assets/images/1149417968-42880b9034a5898452987ee41f083494.png"},78:(t,e,i)=>{i.d(e,{Z:()=>n});const n=i.p+"assets/images/1323630918-07be4f36f7a0bb5662ef28b0c1288c70.png"},3514:(t,e,i)=>{i.d(e,{Z:()=>n});const n=i.p+"assets/images/1788340533-81c467624670a3c6c742c5eb4ebf2350.png"},4380:(t,e,i)=>{i.d(e,{Z:()=>n});const n=i.p+"assets/images/1837482512-bae281a3e46420adede2dbb22827ccbb.png"},7961:(t,e,i)=>{i.d(e,{Z:()=>n});const n=i.p+"assets/images/50135509-80b5a4f159c903cbed94105fe5b42ddb.png"},1151:(t,e,i)=>{i.d(e,{Z:()=>a,a:()=>r});var n=i(7294);const s={},o=n.createContext(s);function r(t){const e=n.useContext(o);return n.useMemo((function(){return"function"==typeof t?t(e):{...e,...t}}),[e,t])}function a(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(s):t.components||s:r(t.components),n.createElement(o.Provider,{value:e},t.children)}}}]);