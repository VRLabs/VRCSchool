"use strict";(self.webpackChunkvrc_school=self.webpackChunkvrc_school||[]).push([[729],{1440:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>d,frontMatter:()=>s,metadata:()=>o,toc:()=>c});var i=n(5893),a=n(1151);const s={title:"Sub-Animator Techniques",sidebar_position:8,slug:"Sub-Animator",last_edited:new Date("2024-03-31T08:54:00.000Z"),contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},r="Sub-Animator Techniques {#8d92a9a3c0924a74aafbae4f11534a04}",o={id:"Other/Sub-Animator",title:"Sub-Animator Techniques",description:"Contributors: Jellejurre, JustSleightly",source:"@site/docs/Other/Sub-Animator.md",sourceDirName:"Other",slug:"/Other/Sub-Animator",permalink:"/docs/Other/Sub-Animator",draft:!1,unlisted:!1,editUrl:"https://github.com/VRLabs/VRCSchool/tree/main/docs/Other/Sub-Animator.md",tags:[],version:"current",sidebarPosition:8,frontMatter:{title:"Sub-Animator Techniques",sidebar_position:8,slug:"Sub-Animator",last_edited:"2024-03-31T08:54:00.000Z",contributors:"[Jellejurre](https://jellejurre.dev/), [JustSleightly](https://vrc.sleightly.dev/)"},sidebar:"sideBar",previous:{title:"Stations",permalink:"/docs/Other/Stations"}},l={},c=[{value:"Animator Enable/Disable",id:"16f94c9ca38c43eabf8b806f12cb8c54",level:2},{value:"GameObject Enable/Disable",id:"f41860fb37d64007ba8348f92c15aa53",level:2},{value:"Culling Mode",id:"51f184bd61414bd88adb52db0a3f10ed",level:2}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",hr:"hr",img:"img",li:"li",p:"p",strong:"strong",ul:"ul",...(0,a.a)(),...e.components},{GreyItalicText:s,RightAlignedText:r}=t;return s||u("GreyItalicText",!0),r||u("RightAlignedText",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(t.p,{children:["Contributors: ",(0,i.jsx)(t.a,{href:"https://jellejurre.dev/",children:"Jellejurre"}),", ",(0,i.jsx)(t.a,{href:"https://vrc.sleightly.dev/",children:"JustSleightly"})]}),"\n",(0,i.jsx)(t.h1,{id:"8d92a9a3c0924a74aafbae4f11534a04",children:"Sub-Animator Techniques"}),"\n",(0,i.jsx)(t.p,{children:"While most effects can be accomplished using traditional StateMachines, this article explores some niche techniques utilizing sub-Animators; Animators other than the main avatar root Animator."}),"\n",(0,i.jsx)(t.h2,{id:"16f94c9ca38c43eabf8b806f12cb8c54",children:"Animator Enable/Disable"}),"\n",(0,i.jsx)(t.p,{children:"Disabling the animator pauses it in the current state, a technique once employed to create a 'Cycler' - a sub-animator cycling between states by toggling its enable/disable status with exit time. Upon re-enabling, the animator seamlessly resumes from where it was paused."}),"\n",(0,i.jsx)(t.p,{children:"Note: Be aware that this behavior differs in Unity. In Unity, disabling and enabling the animator resets its state."}),"\n",(0,i.jsx)(t.admonition,{type:"note",children:(0,i.jsx)(t.p,{children:"Animations that disable/enable Animators use a Behaviour Enabled keyframe property, and have to be made either with a script or by carefully editing an animation file."})}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"f41860fb37d64007ba8348f92c15aa53",children:"GameObject Enable/Disable"}),"\n",(0,i.jsxs)("div",{class:"notion-row",children:[(0,i.jsxs)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:[(0,i.jsxs)(t.p,{children:["Disabling and enabling the GameObject with an animator resets the animator to its initial state, unless the \u201cKeep Animator Controller State on Disable\u201d flag is enabled. To access this flag, enable ",(0,i.jsx)(t.code,{children:"Debug"})," in the inspector settings."]}),(0,i.jsx)(t.p,{children:"Keep in mind that you cannot disable the Animator or the GameObject for your own avatar."})]}),(0,i.jsx)("div",{className:"notion-spacer"}),(0,i.jsx)("div",{class:"notion-column",style:{width:"calc((100% - (min(32px, 4vw) * 1)) * 0.5)"},children:(0,i.jsxs)(t.p,{children:[(0,i.jsx)(t.img,{alt:"Where to enable the debug view",src:n(2835).Z+"",width:"816",height:"134"}),(0,i.jsx)("br",{}),(0,i.jsx)(s,{children:"Where to enable the debug view"})]})}),(0,i.jsx)("div",{className:"notion-spacer"})]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(t.h2,{id:"51f184bd61414bd88adb52db0a3f10ed",children:"Culling Mode"}),"\n",(0,i.jsxs)(t.p,{children:["There are three culling modes for animators, as detailed in ",(0,i.jsx)(t.a,{href:"/docs/Unity-Animations/Animators",children:"Animators"}),":"]}),"\n",(0,i.jsxs)(t.ul,{children:["\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Always Animate:"})," Animates the entire avatar, even when offscreen."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Cull Update Transforms:"})," Disables changing values of transforms when renderers are not visible, affecting GameObjects, components, and blendshapes. Exceptions include animating Animated Animator Parameters and triggering State Machine Behaviours."]}),"\n",(0,i.jsxs)(t.li,{children:[(0,i.jsx)(t.strong,{children:"Cull Completely:"})," Freezes the entire animator when renderers are not visible, halting logic, transitions, and animations."]}),"\n"]}),"\n",(0,i.jsx)(t.admonition,{type:"caution",children:(0,i.jsx)(t.p,{children:"On the VRChat local avatar Animator, this setting defaults to 'Always Animate' for local avatars and 'Cull Update Transforms' for remote avatars. Animators on children GameObjects remain unaffected."})}),"\n",(0,i.jsx)(t.p,{children:"This allows one to do some logic to determine of a mesh is being rendered."}),"\n",(0,i.jsxs)(t.p,{children:["If you have a sub-Animator with one Mesh under it, and it\u2019s set to Cull Completely, then it will stop animating when the Mesh is not looked at locally. One way this can be detected is by animating an object both in the FX controller and in this sub-Animator. The sub-Animator will overwrite the FX controller, unless the sub-Animator is culled, at which point the FX controller takes over. This is used, to toggle a VRC Contact Sender, which determines the value of a VRC Contact Receiver, whose parameter can be picked up in the FX layer. This is the inner workings of ",(0,i.jsx)(t.a,{href:"https://github.com/VRLabs/IsRendering-Detection",children:"VRLabs\u2019 IsRendering Detection"}),"."]}),"\n",(0,i.jsx)(t.hr,{}),"\n",(0,i.jsx)(r,{children:"Last Updated: 31 March 2024 08:54:00"})]})}function d(e={}){const{wrapper:t}={...(0,a.a)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}function u(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},2835:(e,t,n)=>{n.d(t,{Z:()=>i});const i=n.p+"assets/images/Sub-Animator.8998d3a9-50e0-44ce-a4ba-b2e0ae84e7b9-e82c4bb724864a2cd5614680803aec81.png"},1151:(e,t,n)=>{n.d(t,{Z:()=>o,a:()=>r});var i=n(7294);const a={},s=i.createContext(a);function r(e){const t=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:r(e.components),i.createElement(s.Provider,{value:t},e.children)}}}]);