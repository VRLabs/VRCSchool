<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Unity-Animations/Animator-Controllers" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.2.0">
<title data-rh="true">Animator Controllers | VRC School</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vrc.school/img/embed.png"><meta data-rh="true" name="twitter:image" content="https://vrc.school/img/embed.png"><meta data-rh="true" property="og:url" content="https://vrc.school/docs/Unity-Animations/Animator-Controllers"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="og:title" content="VRC School"><meta data-rh="true" name="og:type" content="website"><meta data-rh="true" name="og:url" content="https://vrc.school"><meta data-rh="true" name="og:description" content="Everything you need to know to make VRChat Avatar Systems"><meta data-rh="true" name="theme-color" content="#308BF2"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Animator Controllers | VRC School"><meta data-rh="true" name="description" content="Contributors: Jellejurre, JustSleightly"><meta data-rh="true" property="og:description" content="Contributors: Jellejurre, JustSleightly"><link data-rh="true" rel="icon" href="/img/favicon.svg"><link data-rh="true" rel="canonical" href="https://vrc.school/docs/Unity-Animations/Animator-Controllers"><link data-rh="true" rel="alternate" href="https://vrc.school/docs/Unity-Animations/Animator-Controllers" hreflang="en"><link data-rh="true" rel="alternate" href="https://vrc.school/docs/Unity-Animations/Animator-Controllers" hreflang="x-default"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.10929556.css">
<script src="/assets/js/runtime~main.659a9b49.js" defer="defer"></script>
<script src="/assets/js/main.255b5f0f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/favicon.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/favicon.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">VRC School</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/Unity-Animations/Intro-Unity-Animation">Docs</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/VRLabs/VRCSchool" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/Unity-Animations/Intro-Unity-Animation">Unity Animations</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Intro-Unity-Animation">Introduction - Unity Animation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Animators">Animators</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Animation-Clips">Animation Clips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Types-Of-Animations">Types of Animation Clips</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/Unity-Animations/Animator-Controllers">Animator Controllers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Animator-States">Animator States</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Animator-Transitions">Animator Transitions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Write-Defaults">Write Defaults</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/BlendTrees">Blend Trees</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Unity-Animations/Avatar-Rigs">Avatar Rigs</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Avatars/Intro-VRChat-Avatars">Avatars</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/Other/Network-Sync">Other</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Unity Animations</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Animator Controllers</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><p>Contributors: <a href="https://jellejurre.dev/" target="_blank" rel="noopener noreferrer">Jellejurre</a>, <a href="https://vrc.sleightly.dev/" target="_blank" rel="noopener noreferrer">JustSleightly</a></p>
<h1>Animator Controllers</h1>
<p>An Animator Controller is an asset designed to play animations on a GameObject and its children when placed in an Animator. Its function is to blend together multiple Animator Layers into one final list of effects to apply to an animator. More information on how Animators turn the output of the Animator Controller into actual changes on the avatar can be found at <a href="/docs/Unity-Animations/Animators">Animators</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="15d540eac7f24d74a9c128bb954af934">Animator Layers<a href="#15d540eac7f24d74a9c128bb954af934" class="hash-link" aria-label="Direct link to Animator Layers" title="Direct link to Animator Layers">​</a></h2>
<div class="notion-row"><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 1)) * 0.5)"><p>An Animator Layer allows us to create a State Machine of Animator States, which includes a set of Animator States, an initial Animator State, and transitions between States. One Animator Layer is always either playing one Animator State, or transitioning (blending) between two Animator States. New layers can be added by pressing the <code>+</code> button in the top right of the Layer view.</p><p>Animator Layers start with three default “States”:</p><ul>
<li>The <code>Any State</code>: This State is a symbolic State representing all states. So a Transition going from the <code>Any State</code> is the same as a Transition from every State on the Animator Layer.</li>
<li><code>Exit</code> &amp; <code>Entry</code> States: Any Transition going into the <code>Exit</code> State will evaluate the transitions coming from the <code>Entry</code> State, transitioning to the first state it can, or the Default state if no matching transitions are met.</li>
</ul><p>Note: The Default State is the State colored orange. It can be changed by performing a <code>Right-Click</code> on another state and selecting <code>Set as Layer Default State</code>. This is also the State the Layer will start in.</p></div><div class="notion-spacer"></div><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 1)) * 0.5)"><p><img decoding="async" loading="lazy" alt="A Default Animator Layer" src="/assets/images/10897445-afa70a97730ce5ef0339198de7045180.png" width="1746" height="838" class="img_ev3q"><br></p><p style="color:grey;font-style:italic">A Default Animator Layer</p><p></p></div><div class="notion-spacer"></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="b6ebd14f57994e38909a2ab1aad75e90">Parameters<a href="#b6ebd14f57994e38909a2ab1aad75e90" class="hash-link" aria-label="Direct link to Parameters" title="Direct link to Parameters">​</a></h2>
<p>Animator Controllers use parameters to control the currently active State in their State Machines. Parameters are checked to see if the current State should transition to the next State.</p>
<p>More information about the usage of Parameters can be found at the <a href="/docs/Unity-Animations/Animator-Transitions">Animator Transitions</a> page. Parameters come in different types: <code>Bool</code>, <code>Int</code>, <code>Float</code>, and <code>Trigger</code>.</p>
<ul>
<li><code>Bool</code> parameters can be either true or false, and are generally used for basic logic that requires only two values: on or off.</li>
<li><code>Int</code> parameters store whole numbers, so 0, 1, -10 or 10293, but not 0.5 or-1.1. They are generally used for exclusive logic, for example if you have five different outfits to switch between.</li>
<li><code>Float</code> parameters store decimal values like 0.5, 1.7, -1 and 1024.123. They are the only parameters which can be used in Blend Trees (more information on them can be found at <a href="/docs/Unity-Animations/BlendTrees">Blend Trees</a>), and can only be compared using Greater Than or Less Than, not Equals (since it represents a point on the number line).</li>
<li><code>Trigger</code> parameters are like <code>Bool</code> parameters in that their value is either true or false, however they automatically get set back to false whenever they are used to change state. This makes them useful for triggers, but since there is no built-in VRChat equivalent, they do not find much use in VRChat.</li>
</ul>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>Parameters that are synced by VRChat Expression Parameters do not retain their full range when being sent over the network to remote players. Specifically <code>Int</code> parameters get clamped between [0, 255] and <code>Float</code> parameters get clamped to [-1, 1] but only multiples of 1/127.</p></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="67c4f0f9db13442d9cca4b8d8504fe20">Advanced Details<a href="#67c4f0f9db13442d9cca4b8d8504fe20" class="hash-link" aria-label="Direct link to Advanced Details" title="Direct link to Advanced Details">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="1fcf44d0951f4741a86544baebffd70d">Blend Weight &amp; Blending Mode<a href="#1fcf44d0951f4741a86544baebffd70d" class="hash-link" aria-label="Direct link to Blend Weight &amp; Blending Mode" title="Direct link to Blend Weight &amp; Blending Mode">​</a></h3>
<div class="notion-row"><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 1)) * 0.5)"><p>In play mode or in game, the Motions (Animation Clips/BlendTrees) of the currently playing Animator States of all layers get blended together by the Animator Controller to the final result.</p><p>This is done by taking the first value as the base and then iteratively blending each layer below it to obtain the current one. The blending is done based on the Blend Weights, where the effects get multiplied by the Blend Weight.</p><p>How the layers are blended together depends on the Blending Mode.</p><p>Blending Mode <code>Override</code> gives us the following formula:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>=</mo><mi>C</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>+</mo><mi>N</mi><mi>e</mi><mi>w</mi><mi>W</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>⋅</mo><mo stretchy="false">(</mo><mi>N</mi><mi>e</mi><mi>w</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>−</mo><mi>C</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">NextValue = CurrentValue + NewWeight \cdot (NewValue - CurrentValue)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mord mathnormal">u</span><span class="mord mathnormal">rre</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal" style="margin-right:0.13889em">W</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mord mathnormal">u</span><span class="mord mathnormal">rre</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mclose">)</span></span></span></span></p><p>While Blending Mode <code>Additive</code> gives us the following formula:</p><p><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>N</mi><mi>e</mi><mi>x</mi><mi>t</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>=</mo><mi>C</mi><mi>u</mi><mi>r</mi><mi>r</mi><mi>e</mi><mi>n</mi><mi>t</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi><mo>+</mo><mi>N</mi><mi>e</mi><mi>w</mi><mi>W</mi><mi>e</mi><mi>i</mi><mi>g</mi><mi>h</mi><mi>t</mi><mo>⋅</mo><mi>N</mi><mi>e</mi><mi>w</mi><mi>V</mi><mi>a</mi><mi>l</mi><mi>u</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">NextValue = CurrentValue + NewWeight \cdot NewValue</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal">x</span><span class="mord mathnormal">t</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:0.7778em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.07153em">C</span><span class="mord mathnormal">u</span><span class="mord mathnormal">rre</span><span class="mord mathnormal">n</span><span class="mord mathnormal">t</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal" style="margin-right:0.13889em">W</span><span class="mord mathnormal">e</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03588em">g</span><span class="mord mathnormal">h</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathnormal" style="margin-right:0.10903em">N</span><span class="mord mathnormal">e</span><span class="mord mathnormal" style="margin-right:0.02691em">w</span><span class="mord mathnormal">Va</span><span class="mord mathnormal" style="margin-right:0.01968em">l</span><span class="mord mathnormal">u</span><span class="mord mathnormal">e</span></span></span></span></p><p>Example:</p><p>One Animator Layer is in an Animator State with an Animation Clip which sets a BlendShape to 50, and has a weight of 1 (the first layer always has a weight of one).</p><p>Another Animator Layer with Blending Mode set to <code>Override</code> is in an Animator State with an Animation Clip which sets the same BlendShape to 100, and has a weight of 0.5.</p><p>Now the final applied value for the BlendShape will be 50 + 0.5 * (100 - 50) = 75.</p></div><div class="notion-spacer"></div><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 1)) * 0.5)"><p><img decoding="async" loading="lazy" alt="An animator layer and its config. Note that the topmost layer cannot have its weight changed. It will always be set to 1." src="/assets/images/16405974-107d19fc7047a782a0bc127394d537a8.png" width="738" height="188" class="img_ev3q"><br></p><p style="color:grey;font-style:italic">An animator layer and its config. Note that the topmost layer cannot have its weight changed. It will always be set to 1.</p><p></p><p><img decoding="async" loading="lazy" alt="A second animator layer, which can have its weight changed." src="/assets/images/297873896-d567b375d4b9e6eb3c2be23223538a65.png" width="736" height="226" class="img_ev3q"><br></p><p style="color:grey;font-style:italic">A second animator layer, which can have its weight changed.</p><p></p></div><div class="notion-spacer"></div></div>
<div class="theme-admonition theme-admonition-caution admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_BuS1"><p>The Blend Weight value gets set to 0 by default, which means the layer is inactive. To activate the layer, set the Blend Weight to a higher value, typically 1.</p></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="85a87b13eecb4388a28219d53ff8ef2c">Avatar Masks<a href="#85a87b13eecb4388a28219d53ff8ef2c" class="hash-link" aria-label="Direct link to Avatar Masks" title="Direct link to Avatar Masks">​</a></h3>
<div class="notion-row"><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 2)) * 1.2916666666666665)"><p>Avatar Masks mask out certain parts of the current playing animation. They can be created in the <code>Right Click</code> → Create → Avatar Mask</p><p>In their inspector, you can enable and disable certain Humanoid Muscles and Transforms for being animated. This allows you to reuse one animation in multiple places by masking off certain parts of the animation.</p><p>To disable Transforms on your avatar, you have to put the Avatar from your FBX into the <code>Avatar</code> slot, and press the <code>Import Skeleton</code> button. This will show all the Transforms on the FBX and allow you to enable/disable them.</p><p>More information on the effects of Avatar Masks, both in Unity and in VRChat, can be found at <a href="/docs/Avatars/Avatar-Masks">Avatar Masks</a>.</p></div><div class="notion-spacer"></div><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 2)) * 0.7083333333333335)"><p><img decoding="async" loading="lazy" alt="Creating an Avatar Mask" src="/assets/images/1757865687-b0e30d9b00f757f867e51a916ebe02d1.png" width="658" height="657" class="img_ev3q"><br></p><p style="color:grey;font-style:italic">Creating an Avatar Mask</p><p></p></div><div class="notion-spacer"></div><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 2)) * 0.75)"><p><img decoding="async" loading="lazy" alt="The Avatar Mask Inspector. This area can be used to enable and disable certain Humanoid Muscles and Transforms for being animated." src="/assets/images/1468467156-21f1771b1ad0aa856784fc44a808088f.png" width="688" height="871" class="img_ev3q"><br></p><p style="color:grey;font-style:italic">The Avatar Mask Inspector. This area can be used to enable and disable certain Humanoid Muscles and Transforms for being animated.</p><p></p></div><div class="notion-spacer"></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="b267da1dee7748388058be6654e5d8f2">Sync / Timing<a href="#b267da1dee7748388058be6654e5d8f2" class="hash-link" aria-label="Direct link to Sync / Timing" title="Direct link to Sync / Timing">​</a></h3>
<div class="notion-row"><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 1)) * 0.5)"><p>The <code>Sync</code> Checkbox allows you to sync up two layers, except for the animations. This means that the State Machines are the exact same, and whatever State the source Layer is in, the synced Layer is in. This merges the two current Animation Clips/BlendTrees together based on Layer Weight and Blend Mode.</p><p>With the <code>Timing</code> checkbox off, the synced Layer’s animation will be stretched or squished to take the same time as the source Layer.</p><p>With the <code>Timing</code> checkbox on,  the synced Layer’s animation and the source Layer’s animation’s timing will be combined to make the final time based on the Layer Weights.</p></div><div class="notion-spacer"></div><div class="notion-column" style="width:calc((100% - (min(32px, 4vw) * 1)) * 0.5)"><p><img decoding="async" loading="lazy" alt="What syncing two layers together looks like in the Inspector. Here, the Synced layer has the exact same State Machine as the Source Layer, except for the animations in those states." src="/assets/images/985735145-3028ac43a05a7a60e8320ad97c571335.png" width="724" height="236" class="img_ev3q"><br></p><p style="color:grey;font-style:italic">What syncing two layers together looks like in the Inspector. Here, the Synced layer has the exact same State Machine as the Source Layer, except for the animations in those states.</p><p></p></div><div class="notion-spacer"></div></div>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="65c98427e2ee4ccf8e77f0f6c3c92d3c">IK Pass<a href="#65c98427e2ee4ccf8e77f0f6c3c92d3c" class="hash-link" aria-label="Direct link to IK Pass" title="Direct link to IK Pass">​</a></h3>
<p>If the <code>IK Pass</code> checkbox is enabled, a script on the same GameObject will receive the <code>OnAnimatorIK(int LayerIndex)</code> callback. This callback can be used to update the IK Targets based on the position of objects animated by the Animator. This is completely useless for VRChat content where external scripts can&#x27;t be uploaded.</p>
<hr>
<div style="text-align:right">Last Updated: 31 March 2024 08:54:00</div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/VRLabs/VRCSchool/tree/main/docs/Unity-Animations/Animator-Controllers.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/Unity-Animations/Types-Of-Animations"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Types of Animation Clips</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/Unity-Animations/Animator-States"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Animator States</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#15d540eac7f24d74a9c128bb954af934" class="table-of-contents__link toc-highlight">Animator Layers</a></li><li><a href="#b6ebd14f57994e38909a2ab1aad75e90" class="table-of-contents__link toc-highlight">Parameters</a></li><li><a href="#67c4f0f9db13442d9cca4b8d8504fe20" class="table-of-contents__link toc-highlight">Advanced Details</a><ul><li><a href="#1fcf44d0951f4741a86544baebffd70d" class="table-of-contents__link toc-highlight">Blend Weight &amp; Blending Mode</a></li><li><a href="#85a87b13eecb4388a28219d53ff8ef2c" class="table-of-contents__link toc-highlight">Avatar Masks</a></li><li><a href="#b267da1dee7748388058be6654e5d8f2" class="table-of-contents__link toc-highlight">Sync / Timing</a></li><li><a href="#65c98427e2ee4ccf8e77f0f6c3c92d3c" class="table-of-contents__link toc-highlight">IK Pass</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">VRLabs</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://vrlabs.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Website<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.vrlabs.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/VRLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Github<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/VRLabs" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">JustSleightly</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://links.sleightly.dev/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Links<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://discord.sleightly.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://store.sleightly.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Store<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.sleightly.dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/VRLabs/VRCSchool" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 VRLabs, Inc  & JustSleightly. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>